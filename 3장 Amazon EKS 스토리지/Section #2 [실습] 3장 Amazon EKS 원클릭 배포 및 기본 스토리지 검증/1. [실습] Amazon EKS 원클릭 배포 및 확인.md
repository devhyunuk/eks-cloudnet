# 1. [실습] Amazon EKS 원클릭 배포 및 확인
1) Amazon EKS 원클릭 배포 및 확인
2) 임시 파일 시스템과 emptyDir 구성
3) local-path-provisioner 구성

[자동 구성도]
![image](https://github.com/devhyunuk/eks-cloudnet/assets/49749510/a888e506-16ca-4a88-9fb2-4e98c08eb7e4)

1) **2장 Amazon EKS 원클릭 배포**
   - VPC 환경이 구성 -> EKS 클러스터에 워커노드 구성 -> 모든 자원을 관리하는 용도로 작업용 EC2 Bastion Host 인스턴스도 구성
   - 아마존 EKS 클러스터 생성 -> 관리형 노드그룹이 구성 -> AWS 관리형으로 컨트롤 플레인이 구성 -> 노드그룹을 통해 워커노드 3대를 구성
   - 다양한 add-on과 실습 도구가 구성 -> 필요한 변수를 미리 선언 구성
2) **3장 Amazon EKS 원클릭 배포 추가 사항**
   - 아마존 EFS 파일 시스템을 생성 -> 작업용 인스턴스에 마운트하는 작업 수행
   - 3개의 가용 영역에서 구성된 VPC 환경에서 -> Amazon EFS 파일 시스템을 생성하고 -> 마운트 타겟을 각각의 가용 영역에 연결
   - 사전에 EFS 용도로 보안 그룹도 생성하고 연결 필요
   - 작업용 EC2 Bastion Host 인스턴스에서 -> EFS 파일 시스템에 마운트하여 연결하는 작업까지 수행 (작업용 인스턴스는 마운트 경로로 생성된 파일 시스템을 사용할 수 있음)
   - AWS LoadBalancer Controller의 권한이임을 위해 irsa도 미리 정의해서 생성
    
[원클릭 배포 아키텍처]
![image](https://github.com/devhyunuk/eks-cloudnet/assets/49749510/692f2da2-9066-48ed-9c61-63f2a325b5c5)

1) myeks vpc가 생성 -> 3개의 가용 영역에서 public subnet 3개와 private subnet 3개 생성
2) 작업용 EC2 Bastion Host 인스턴스가 public subnet 1에 생성
3) Amazon EKS 클러스터 생성 수행 :
   - AWS Managed VPC의 컨트롤 플레인 생성
   - 관리형 노드그룹을 설정해서 -> 3개의 가용 영역에서 Public Subnet에 WorkerNode가 하나씩 구성
 
4) Amazon EFS 파일 시스템을 구성하고 -> 작업용 EC2 Bastion Host 인스턴스 마운트
5) AWS LoadBalancer Controller가 사용할 IRSA 생성


