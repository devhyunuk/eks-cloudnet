# 2. [실습] Amazon EKS 원클릭 배포 및 확인.md

## 1.1. CloudFormation 스택 생성
   
   ### 1.1.1 [관리 콘솔] CloudFormation 파라미터 설정
   - 스택 생성 페이지에서 다음 버튼을 클릭합니다.
   - 스택 이름은 [myeks]로 입력합니다.
   - KeyName은 [각자의 키페어]를 선택합니다.
   - MyIAMUserAccessKeyID는 [각자의 액세스 키 ID 값]을 입력합니다.
   - MyIAMUserSecretAccessKey는 [각자의 시크릿 액세스 키 값]을 입력합니다.
   - SgIngressSshCidr는 [각자의 PC의 퍼블릭 IP 주소/32]로 입력합니다.
   - 나머지 파라미터는 기본 값을 유지하고 다음 버튼을 클릭합니다.

   ![image](https://github.com/devhyunuk/eks-cloudnet/assets/49749510/53a16cc4-830b-460a-ac35-f7918015189e)


   
   ### 2. IPv4 Prefix Delegation
   - Max Pods = ENIX (ENI 당 지원하는 IPv4 수 1) x 16
   - Slot 당/28 Prefix(16개) 할당, Nitro System 계열의 인스턴스만 해당
   - vCPU 30 코어 미만은 110개로 제한, 그 외 250이 최대 (Max IPs Max Pods)
   - kubectl 명령으로 IPv4 Prefix Delegation 활성화 필요
   ![image](https://github.com/devhyunuk/eks-cloudnet/assets/49749510/bc777c3f-09fd-40bf-9f4b-b1bcacad645a)

   ### 3. Amazon VPC CNI 장단점

   #### 장점
   - 패킷 캡슐화 없이 통신하여 오버 헤드가 낮음 (파드와 노드는 같은 IP 대역)
   - VPC Flow Logs, 라우팅 정책, 보안 그룹 활용
   - VPC에서 트래픽을 파드에게 직접적인 라우팅 가능

   #### 단점
   - 최대 파드 생성 수에 대한 제약 (Secondary IP & IP Prefix Delegation)
