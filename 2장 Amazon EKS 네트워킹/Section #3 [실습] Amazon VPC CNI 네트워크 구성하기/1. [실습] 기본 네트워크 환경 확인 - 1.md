# 1. [실습] 기본 네트워크 환경 확인 - 1

   ## 1 기본 네트워크 환경 확인
   - Amazon EKS 원클릭 배포 환경에서 진행

   ### 1.1 기본 정보 확인
   - Amazon VPC CNI 구성 환경에서 기본적인 네트워크 정보를 확인
     
   #### 1.1.1 daemonset 확인
   ```
   // kube-system의 daemonset 확인
   kubectl get daemonset -n kube-system
   ```
   ![image](https://github.com/devhyunuk/eks-cloudnet/assets/49749510/e60b3b94-1d30-4fa7-bc07-00277a2f6445)

   1) VPC CNI 플러그인이 설치된 환경에서 노드별로 구성되는 데몬셋 정보를 확인
   2) 각각의 워커노드 3대에 AWS노드와 쿠버프록시가 데몬셋 형태로 기본 설치
   3) aws-node : VPC-CNI를 위한 컴포넌트
   4) kube-proxy : 노드에 실행되는 네트워킹 컴포넌트

   ```
   // vpc-cni 정보 확인
   kubectl describe daemonset aws-node -n kube-system | grep Image | cut -d "/" -f 2
   ```
   ![image](https://github.com/devhyunuk/eks-cloudnet/assets/49749510/f0a84e49-b19e-4e2f-901e-01e54265d497)
   - vpc cni 이미지 확인

   ```
   // kube-proxy config 확인
   kubectl describe cm -n kube-system kube-proxy-config
   ```
   ![image](https://github.com/devhyunuk/eks-cloudnet/assets/49749510/8499a65e-f2d6-4964-820b-7085c025f677)

   - 노드의 네트워킹 컴포넌트인 kubeproxy 설정 정보를 확인
   - kubeproxy가 동작하는 다양한 설정 값을 확인
   - vpc cni 환경은 ip tables 모드로 동작
   - 리눅스 커널에 구성되는 ip tables를 kubeproxy가 관리 제어
     
   #### 1.1.2 워커 노드 IP와 파드 IP 확인

---
   
   ### 1.2 워커 노드의 네트워크 정보 확인
   
   #### 1.2.1 워커 노드의 vpc-cni 정보 확인
   
   #### 1.2.2 워커 노드의 네트워크 정보 확인

---
   
   ### 1.3 테스트용 파드 생성 및 확인
   
   #### 1.3.1 신규 터미널 3개에 워커 노드 모니터링 수행
   #### 1.3.2 테스트용 netshoot 파드 3대 생성
   #### 1.3.3 테스트용 파드 이름 변수 저장
   #### 1.3.4 테스트용 파드 exec 접속 후 네트워크 정보 확인

















